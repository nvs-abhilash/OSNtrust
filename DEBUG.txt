I have removed some bugs,

Now the bug is in unpropagate
It is going in infinite loop. Please check.

